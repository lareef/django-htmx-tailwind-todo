<article class="flex{% if noteitem.is_final %} bg-green-50{% endif %}">
  <div class="w-4/5 py-3">
    <p
      class="px-6 text-xs text-gray-900"
      {% if note.status_id == 0 %} hx-get="{{ noteref }}/edit_noteitem/{{ noteitem.id }}/" {% endif %}   
      {% comment %} hx-get="{{ noteref }}/edit_noteitem/{{ noteitem.id }}/" {% endcomment %}
      hx-target="this"
      hx-swap="outerHTML"
    >
      {{ noteitem.product }}      
      {{ noteitem.quantity }}
      {{ noteitem.cost }}
      {{ noteitem.weight }}
    </p>
  </div>

  <div class="w-1/5 px-6 py-3 flex justify-end space-x-4">
    {% if note.status_id == 0 %}
    <form
      hx-put="{{ noteref }}/update_noteitem/{{ noteitem.id }}/"
      hx-target="closest article"
      hx-swap="outerHTML"
    >
      <button class="text-sky-600 hover:text-sky-900">Done</button>
    </form>
    <a
      href="#"
      class="text-sky-600 hover:text-sky-900"
      hx-confirm="Are you sure?"
      hx-target="closest article"
      hx-swap="outerHTML swap:1s"
      hx-delete="{{ noteref }}/delete_noteitem/{{ noteitem.id }}/"
    >
      Delete
    </a>
    {% endif %}
  </div>
</article>
